# Django Tree Menu

## Описание

Это Django-приложение реализует древовидное меню с поддержкой вложенных элементов. Меню может быть добавлено на страницу с помощью специального template tag. Приложение поддерживает несколько меню на одной странице, определяемых по названию. Каждый пункт меню может ссылаться на URL, который задается либо явным образом, либо через именованный URL. Активный пункт меню определяется автоматически на основе текущего URL.

## Функциональность

1. **Меню реализовано через template tag**: Меню добавляется на страницу с помощью тега `{% draw_menu 'menu_name' %}`.
2. **Древовидная структура**: Все, что над выделенным пунктом, развернуто. Первый уровень вложенности под выделенным пунктом также развернут.
3. **Хранение данных в БД**: Меню и его элементы хранятся в базе данных.
4. **Редактирование через админку**: Меню и его элементы могут редактироваться через стандартную админку Django.
5. **Определение активного пункта**: Активный пункт меню определяется автоматически на основе текущего URL.
6. **Поддержка нескольких меню**: На одной странице может быть несколько меню, которые определяются по названию.
7. **Переход по URL**: При клике на меню происходит переход по заданному в нем URL. URL может быть задан как явно, так и через именованный URL.
8. **Оптимизация запросов**: Для отрисовки каждого меню используется ровно один запрос к БД.

## Установка

1. **Клонируйте репозиторий**:

    ```bash
    git clone https://github.com/tatarin10703/django_tree_menu
    cd django-tree-menu
    ```

2. **Установите зависимости**:

    Создайте и активируйте виртуальное окружение:

    ```bash
    python3 -m venv env
    source env/bin/activate  # Linux/MacOS
    .\env\Scripts\activate  # Windows
    ```

    Установите зависимости:

    ```bash
    pip install -r requirements.txt
    ```

3. **Добавьте приложение в ваш проект**:

    В `INSTALLED_APPS` вашего проекта добавьте `tree_menu`:

    ```python
    INSTALLED_APPS = [
        # ...
        'menu',
        # ...
    ]
    ```

4. **Выполните миграции**:

    Примените миграции для создания необходимых моделей в базе данных:

    ```bash
    python manage.py migrate
    ```

5. **Создайте меню в админке**:

    Зайдите в админку Django и создайте меню с его пунктами.

## Использование

### Добавление меню на страницу

Чтобы отобразить меню на странице, используйте следующий template tag в вашем шаблоне:

```django

Пример шаблона

<!DOCTYPE html>
<html lang="en">
<head>
    {% load menu_tags %}
    <meta charset="UTF-8">
    <title>Пример страницы с меню</title>
</head>
<body>
    <h1>Пример страницы</h1>
    
    <!-- Вставка меню -->
    {% draw_menu 'main_menu' %}

    <!-- Ваше основное содержимое -->
</body>
</html>

```
##  Структура меню
В админке вы можете создавать иерархию пунктов меню. Например:

- Главная (`/home/`)
- О нас (`/about/`)
  - Наша история (`/about/history/`)
  - Команда (`/about/team/`)
- Услуги (`/services/`)
  - Обслуживание (`/services/maintenance/`)
  - Консалтинг (`/services/consulting/`)
- Контакты (`/contact/`)


Производительность: Приложение оптимизировано для выполнения ровно одного запроса к базе данных на каждое меню, что обеспечивает высокую производительность даже при сложной иерархии меню.   
Расширяемость: Вы можете добавлять дополнительные поля к моделям меню, если вам нужно хранить больше информации о каждом пункте меню.   
Лицензия:
Этот проект лицензирован под лицензией MIT.

Автор
>Юлпатов Георгий — Python разработчик